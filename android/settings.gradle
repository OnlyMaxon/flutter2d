pluginManagement {
	// Locate Flutter SDK from local.properties
	def flutterSdkPath = {
		def props = new Properties()
		def localProps = new File(settingsDir, "local.properties")
		if (localProps.exists()) {
			localProps.withReader("UTF-8") { reader -> props.load(reader) }
			return props.getProperty("flutter.sdk")
		}
		return null
	}()

	assert flutterSdkPath != null : "flutter.sdk not set in local.properties"

	// Make Flutter's Gradle plugins available to the build
	includeBuild("${flutterSdkPath}/packages/flutter_tools/gradle")

	repositories {
		google()
		mavenCentral()
		gradlePluginPortal()
	}
}

plugins {
	// Required to load Flutter's settings and plugins
	id "dev.flutter.flutter-plugin-loader" version "1.0.0"

	// Match AGP/Kotlin versions compatible with Flutter tooling
	id "com.android.application" version "8.1.1" apply false
	id "org.jetbrains.kotlin.android" version "1.9.10" apply false
}

rootProject.name = 'flutter2d'

include ':app'
